<!DOCTYPE html>
<!--
    Basically Basic Jekyll Theme 1.4.4
    Copyright 2017-2018 Michael Rose - mademistakes.com | @mmistakes
    Free for personal and commercial use under the MIT license
    https://github.com/mmistakes/jekyll-theme-basically-basic/blob/master/LICENSE
-->
<html lang="en-US" class="no-js">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
    
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Rubocop’s --auto-gen-config | Leonel Galán</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Rubocop’s --auto-gen-config" />
<meta name="author" content="Leonel Galán" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I’ve always been fascinated with linters, code formatters and other static analysis tools. For Ruby, Rubocop is king, it will enforce many of the guidelines outlined in the community’s Ruby Style Guide, but it’s flexible enough for you to decide how to write your code. Setting up Rubocop when first starting a project allows you to quickly fix all the initial offenses (150+ for a vanilla Rails installation, see below) and analyze your code constantly (on save, on commit, before accepting a pull requests) to keep your project offense free." />
<meta property="og:description" content="I’ve always been fascinated with linters, code formatters and other static analysis tools. For Ruby, Rubocop is king, it will enforce many of the guidelines outlined in the community’s Ruby Style Guide, but it’s flexible enough for you to decide how to write your code. Setting up Rubocop when first starting a project allows you to quickly fix all the initial offenses (150+ for a vanilla Rails installation, see below) and analyze your code constantly (on save, on commit, before accepting a pull requests) to keep your project offense free." />
<link rel="canonical" href="https://leonelgalan.com/2020/02/26/rubocops-auto-gen-config.html" />
<meta property="og:url" content="https://leonelgalan.com/2020/02/26/rubocops-auto-gen-config.html" />
<meta property="og:site_name" content="Leonel Galán" />
<meta property="og:image" content="https://leonelgalan.com/assets/images/posts/lenny-kuhne-jHZ70nRk7Ns-unsplash.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-02-26T16:00:00+00:00" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"Leonel Galán"},"url":"https://leonelgalan.com/2020/02/26/rubocops-auto-gen-config.html","headline":"Rubocop’s --auto-gen-config","description":"I’ve always been fascinated with linters, code formatters and other static analysis tools. For Ruby, Rubocop is king, it will enforce many of the guidelines outlined in the community’s Ruby Style Guide, but it’s flexible enough for you to decide how to write your code. Setting up Rubocop when first starting a project allows you to quickly fix all the initial offenses (150+ for a vanilla Rails installation, see below) and analyze your code constantly (on save, on commit, before accepting a pull requests) to keep your project offense free.","datePublished":"2020-02-26T16:00:00+00:00","dateModified":"2020-02-26T16:00:00+00:00","@type":"BlogPosting","image":"https://leonelgalan.com/assets/images/posts/lenny-kuhne-jHZ70nRk7Ns-unsplash.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://leonelgalan.com/2020/02/26/rubocops-auto-gen-config.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  

  <script>
    /* Cut the mustard */
    if ( 'querySelector' in document && 'addEventListener' in window ) {
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'js';
    }
  </script>

  <link rel="stylesheet" href="/assets/stylesheets/main.css">
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Sans:400,400i,600,600i">
  

  
</head>


  <body class="layout--post rubocop-s-auto-gen-config">

    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#primary-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>


    <div class="sidebar-toggle-wrapper">
      
        <button class="search-toggle" type="button">
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <title>Search</title>
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
      

      <button class="toggle navicon-button larr" type="button">
        <span class="toggle-inner">
          <span class="sidebar-toggle-label visually-hidden">Menu</span>
          <span class="navicon"></span>
        </span>
      </button>
    </div>

    <div id="sidebar" class="sidebar">
      <div class="inner">
        <nav id="primary-nav" class="site-nav" itemscope itemtype="http://schema.org/SiteNavigationElement" aria-label="Main navigation">
  <ul id="menu-main-navigation" class="menu">
    <!-- Home link -->
    <li class="menu-item">
      <a href="/" itemprop="url">
        <span itemprop="name">Home</span>
      </a>
    </li>

    <!-- site.pages links -->
    
    

    
      
      
        <li class="menu-item">
          <a href="/about/" itemprop="url">
            <span itemprop="name">About</span>
          </a>
        </li>
      
    
      
      
        <li class="menu-item">
          <a href="/os/" itemprop="url">
            <span itemprop="name">Open Source</span>
          </a>
        </li>
      
    
      
      
        <li class="menu-item">
          <a href="/uses/" itemprop="url">
            <span itemprop="name">Uses</span>
          </a>
        </li>
      
    
  </ul>
</nav>

        <ul class="contact-list">
  

  
    <li><a href="https://github.com/leonelgalan">
  <span class="icon icon--github"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.09-.202-.36-1.015.07-2.117 0 0 .67-.215 2.2.82.64-.178 1.32-.266 2-.27.68.004 1.36.092 2 .27 1.52-1.035 2.19-.82 2.19-.82.43 1.102.16 1.915.08 2.117.51.56.82 1.274.82 2.147 0 3.073-1.87 3.75-3.65 3.947.28.24.54.73.54 1.48 0 1.07-.01 1.93-.01 2.19 0 .21.14.46.55.38C13.71 14.53 16 11.53 16 8c0-4.418-3.582-8-8-8"/></svg></span>
  <span class="label">GitHub</span>
</a>
</li>
  

  
    <li><a href="https://twitter.com/leonelgalan">
  <span class="icon icon--twitter"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M16 3.038c-.59.26-1.22.437-1.885.517.677-.407 1.198-1.05 1.443-1.816-.634.37-1.337.64-2.085.79-.598-.64-1.45-1.04-2.396-1.04-1.812 0-3.282 1.47-3.282 3.28 0 .26.03.51.085.75-2.728-.13-5.147-1.44-6.766-3.42C.83 2.58.67 3.14.67 3.75c0 1.14.58 2.143 1.46 2.732-.538-.017-1.045-.165-1.487-.41v.04c0 1.59 1.13 2.918 2.633 3.22-.276.074-.566.114-.865.114-.21 0-.41-.02-.61-.058.42 1.304 1.63 2.253 3.07 2.28-1.12.88-2.54 1.404-4.07 1.404-.26 0-.52-.015-.78-.045 1.46.93 3.18 1.474 5.04 1.474 6.04 0 9.34-5 9.34-9.33 0-.14 0-.28-.01-.42.64-.46 1.2-1.04 1.64-1.7z" fill-rule="nonzero"/></svg></span>
  <span class="label">Twitter</span>
</a>
</li>
  

  
    <li><a href="https://www.linkedin.com/in/leonelgalan">
  <span class="icon icon--linkedin"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M13.632 13.635h-2.37V9.922c0-.886-.018-2.025-1.234-2.025-1.235 0-1.424.964-1.424 1.96v3.778h-2.37V6H8.51v1.04h.03c.318-.6 1.092-1.233 2.247-1.233 2.4 0 2.845 1.58 2.845 3.637v4.188zM3.558 4.955c-.762 0-1.376-.617-1.376-1.377 0-.758.614-1.375 1.376-1.375.76 0 1.376.617 1.376 1.375 0 .76-.617 1.377-1.376 1.377zm1.188 8.68H2.37V6h2.376v7.635zM14.816 0H1.18C.528 0 0 .516 0 1.153v13.694C0 15.484.528 16 1.18 16h13.635c.652 0 1.185-.516 1.185-1.153V1.153C16 .516 15.467 0 14.815 0z" fill-rule="nonzero"/></svg></span>
  <span class="label">LinkedIn </span>
</a>
</li>
  

  <li>
    
  </li>
</ul>

      </div>
    </div>

    <div class="canvas">
      <div class="wrapper">
        

<header id="masthead">
  <div class="inner">
    <div class="title-area">
      
        <p class="site-title">
          <a href="/">
            
            <span>Leonel Galán</span>
          </a>
        </p>
      
    </div>
  </div>
</header>

        <div class="initial-content">
          <header class="intro">
  
    
    
    
    <div class="intro-image">
      <img src="/assets/images/posts/lenny-kuhne-jHZ70nRk7Ns-unsplash.jpg" alt="Rubocop's `--auto-gen-config`">
    </div>
  

  <div class="inner">
    <div class="intro-text">
      <h1 id="page-title" class="intro-title">Rubocop’s --auto-gen-config
</h1>
      

      
        

        <p class="entry-meta">
          <span class="byline-item">by Leonel Galán</span><span class="byline-item"><span class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="379 72 16 16"><g><g><path fill="none" d="M380.8,86.7h12.3v-8.8h-12.3V86.7z M389.5,78.8h1.7v1.4h-1.7V78.8z M389.5,81.3h1.7v1.4h-1.7V81.3z M389.5,83.8h1.7v1.4h-1.7V83.8z M386.1,78.8h1.7v1.4h-1.7V78.8z M386.1,81.3h1.7v1.4h-1.7V81.3z M386.1,83.8h1.7v1.4h-1.7V83.8z M382.8,78.8h1.7v1.4h-1.7V78.8z M382.8,81.3h1.7v1.4h-1.7V81.3z M382.8,83.8h1.7v1.4h-1.7V83.8z"/><polygon fill="none" points="384.7 75.1 383.4 75.1 383.4 74.3 380.8 74.3 380.8 76.6 393.2 76.6 393.2 74.3 390.6 74.3 390.6 75.1 389.3 75.1 389.3 74.3 384.7 74.3"/><rect x="382.8" y="78.8" width="1.7" height="1.4"/><rect x="386.1" y="78.8" width="1.7" height="1.4"/><rect x="389.5" y="78.8" width="1.7" height="1.4"/><rect x="382.8" y="81.3" width="1.7" height="1.4"/><rect x="386.1" y="81.3" width="1.7" height="1.4"/><rect x="389.5" y="81.3" width="1.7" height="1.4"/><rect x="382.8" y="83.8" width="1.7" height="1.4"/><rect x="386.1" y="83.8" width="1.7" height="1.4"/><rect x="389.5" y="83.8" width="1.7" height="1.4"/><path d="M383.4,72v1.1h-3.8V88h14.9V73.1h-3.8V72h-1.3v1.1h-4.7V72H383.4z M393.2,86.7h-12.3v-8.8h12.3L393.2,86.7L393.2,86.7z M389.3,74.3v0.8h1.3v-0.8h2.5v2.3h-12.3v-2.3h2.5v0.8h1.3v-0.8H389.3z"/></g></g></svg></span><time datetime="2020-02-26T16:00:00+00:00">February 26, 2020</time></span>
        </p>
      

      

      
    </div>
  </div>
</header>


<main id="main" class="page-content" aria-label="Content">
  <div class="inner">
    <article class="entry-wrap">
      <div class="entry-content">
        <p>I’ve always been fascinated with linters, code formatters and other static analysis tools. For Ruby, <a href="https://www.rubocop.org/">Rubocop</a> is king, it will enforce many of the guidelines outlined in the community’s <a href="https://rubystyle.guide/">Ruby Style Guide</a>, but it’s flexible enough for you to decide how to write your code. Setting up Rubocop when first starting a project allows you to quickly fix all the initial offenses (150+ for a vanilla Rails installation, see below) and analyze your code constantly (on
save, on commit, before accepting a pull requests) to keep your project offense free.</p>

<div class="jekyll-twitter-plugin"><blockquote class="twitter-tweet"><p lang="en" dir="ltr">Looking for a way to increase your engineering team&#39;s velocity? <br /><br />Install a linter and stop arguing in PRs about code formatting/style.</p>&mdash; Brandon ✌︎(&#39;ω&#39;)✌︎ (@BrandonMathis) <a href="https://twitter.com/BrandonMathis/status/1232371983234600960?ref_src=twsrc%5Etfw">February 25, 2020</a></blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div>

<p>A friend tweeted the above recently and he’s right; I’ve spent countless hours debating: single vs. double quotes and spaces vs. tabs. But it really doesn’t matter, let’s write the code however we like and have a tool like Rubocop enforce the guidelines we’ve agreed beforehand.</p>

<p>I’ve been out of consulting for almost 5 years now, so I don’t get to start new Rails apps every couple of months. I created one today, to follow along a graphql tutorial (future blog post, maybe?) and stumble upon a feature from Rubocop I didn’t know: auto generate configuration. Let’s explore it together!</p>

<h2 id="tutorial">Tutorial</h2>

<h3 id="setup-and-defaults">Setup and Defaults</h3>

<p>Make sure you have installed your desired versions of both Ruby and Rails installed. At the time of this writing I wanted the latest 2.6 ruby and the latest Rails, which correspond to the versions shown below:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ruby <span class="nt">-v</span>
ruby 2.6.5p114 <span class="o">(</span>2019-10-01 revision 67812<span class="o">)</span> <span class="o">[</span>x86_64-darwin19]
<span class="nv">$ </span>rails <span class="nt">-v</span>
Rails 6.0.2.1
</code></pre></div></div>

<p>Create a new Rails app and get inside the newly created directory:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rails new rubocop-app-demo
<span class="nb">cd </span>rubocop-app-demo
</code></pre></div></div>

<p>Open the <code class="language-plaintext highlighter-rouge">Gemfile</code> and add <em>rubocop</em> and <em>rubocop-rails</em> inside a <code class="language-plaintext highlighter-rouge">:development</code> group and add <code class="language-plaintext highlighter-rouge">require: false</code> to both lines according to the gems’ documentation <a href="https://github.com/rubocop-hq/rubocop#installation">(1)</a><a href="https://github.com/rubocop-hq/rubocop-rails#installation">(2)</a>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">group</span> <span class="ss">:development</span> <span class="k">do</span>
  <span class="c1"># ...</span>

  <span class="n">gem</span> <span class="s1">'rubocop'</span><span class="p">,</span> <span class="ss">require: </span><span class="kp">false</span>
  <span class="n">gem</span> <span class="s1">'rubocop-rails'</span><span class="p">,</span> <span class="ss">require: </span><span class="kp">false</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Running rubocop without an explicit configuration (default) results in 172 offenses in 40 files:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rubocop <span class="nt">--format</span> offenses
 40/40 files |<span class="o">==========================</span> 100 <span class="o">===========================&gt;</span>| Time: 00:00:00

55   Style/StringLiterals
40   Layout/LineLength
39   Style/FrozenStringLiteralComment
6    Layout/EmptyLineAfterGuardClause
6    Style/IfUnlessModifier
4    Style/Documentation
3    Style/ExpandPathArguments
2    Layout/ArgumentAlignment
2    Layout/SpaceInsideArrayLiteralBrackets
2    Style/ClassAndModuleChildren
2    Style/StderrPuts
2    Style/SymbolArray
1    Bundler/OrderedGems
1    Layout/MultilineOperationIndentation
1    Metrics/AbcSize
1    Metrics/CyclomaticComplexity
1    Metrics/MethodLength
1    Metrics/PerceivedComplexity
1    Style/PerlBackrefs
1    Style/RedundantBegin
1    Style/SpecialGlobalVars
<span class="nt">--</span>
172  Total
</code></pre></div></div>

<p>Not a great start, let’s get this sorted out.</p>

<h2 id="the-process">The Process</h2>

<p>Rubocop includes a tool to auto generate a configuration . Simply pass the <code class="language-plaintext highlighter-rouge">--auto-gen-config</code> flag to generate a configuration acting as a TO DO list:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rubocop <span class="nt">--auto-gen-config</span>
<span class="nv">$ </span>rubocop <span class="nb">.</span>
The following cops were added to RuboCop, but are not configured. Please <span class="nb">set </span>Enabled to either <span class="sb">`</span><span class="nb">true</span><span class="sb">`</span> or <span class="sb">`</span><span class="nb">false</span><span class="sb">`</span> <span class="k">in </span>your <span class="sb">`</span>.rubocop.yml<span class="sb">`</span> file:
 - Style/HashEachMethods
 - Style/HashTransformKeys
 - Style/HashTransformValues
Inspecting 40 files
......................................

40 files inspected, no offenses detected
</code></pre></div></div>

<p>This created two files <em>.rubocop.yml</em> and <em>.rubocop_todo.yml</em>. The first is your project’s final configuration file, for now, it simply inherits a temporary configuration from <em>.rubocop_todo.yml</em> (TO DO from now on). This allows the project to have no offenses. But the point of the TO DO is for us to remove the configuration records one by one as the offenses are removed from the code base or the configuration is moved outside of the TO DO.</p>

<p>First let’s fix the warnings by enabling the three cops that aren’t configured yet. Add the following to <em>.rubocop.yml</em>: <a href="https://github.com/leonelgalan/rubocop-app-demo/tree/4fff12cf06f55c629382f2bdab9a1c62340e4d53"><code class="language-plaintext highlighter-rouge">4fff12c</code></a></p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">Style/HashEachMethods</span><span class="pi">:</span>
  <span class="na">Enabled</span><span class="pi">:</span> <span class="no">true</span>

<span class="s">Style/HashTransformKeys</span><span class="pi">:</span>
  <span class="na">Enabled</span><span class="pi">:</span> <span class="no">true</span>

<span class="s">Style/HashTransformValues</span><span class="pi">:</span>
  <span class="na">Enabled</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rubocop <span class="nb">.</span>
Inspecting 40 files
........................................

40 files inspected, no offenses detected
</code></pre></div></div>

<p>Now let’s focus on the first entry of the TO DO:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Offense count: 1</span>
<span class="c1"># Cop supports --auto-correct.</span>
<span class="c1"># Configuration parameters: TreatCommentsAsGroupSeparators, Include.</span>
<span class="c1"># Include: **/*.gemfile, **/Gemfile, **/gems.rb</span>
<span class="s">Bundler/OrderedGems</span><span class="pi">:</span>
  <span class="na">Exclude</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s1">'</span><span class="s">Gemfile'</span>
</code></pre></div></div>

<p>This cop seems like a good idea, as the project grows ordered gems will make the Gemfile easier to read. We also learned that the cop supports auto correct, so simply removing this block from the TO DO and running rubocop autocorrect will remove the offense: <a href="https://github.com/leonelgalan/rubocop-app-demo/tree/443b28292b85d7eb6e421a7781da7bd99cb7f4cd"><code class="language-plaintext highlighter-rouge">443b282</code></a></p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rubocop <span class="nt">--auto-correct</span>
Inspecting 40 files
C.......................................

Offenses:

Gemfile:39:3: C: <span class="o">[</span>Corrected] Bundler/OrderedGems: Gems should be sorted <span class="k">in </span>an alphabetical order within their section of the Gemfile. Gem listen should appear before web-console.
  gem <span class="s1">'listen'</span>, <span class="s1">'&gt;= 3.0.5'</span>, <span class="s1">'&lt; 3.2'</span>
  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

40 files inspected, 1 offense detected, 1 offense corrected
<span class="nv">$ </span>rubocop <span class="nb">.</span>
Inspecting 40 files
........................................

40 files inspected, no offenses detected
</code></pre></div></div>

<p>Now onto the next block:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Offense count: 2</span>
<span class="c1"># Cop supports --auto-correct.</span>
<span class="c1"># Configuration parameters: EnforcedStyle, IndentationWidth.</span>
<span class="c1"># SupportedStyles: with_first_argument, with_fixed_indentation</span>
<span class="s">Layout/ArgumentAlignment</span><span class="pi">:</span>
  <span class="na">Exclude</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s1">'</span><span class="s">bin/webpack'</span>
    <span class="pi">-</span> <span class="s1">'</span><span class="s">bin/webpack-dev-server'</span>
</code></pre></div></div>

<p>We do want the <code class="language-plaintext highlighter-rouge">Layout/ArgumentAlignment</code> cop, but files in the <em>bin/</em> folder are usually automatically generated, and to avoid a constant back and forth, it’s probably better to avoid <em>bin/</em> when running all the cops (<code class="language-plaintext highlighter-rouge">AllCops</code>). Add the following to your project’s Rubocop configuration (<em>.rubocop.yml</em>) and remove the block from the TO DO. While we are here, let’s also ignore <em>node_modules/</em>, I remember having some issues with ruby files inside node-sass. <a href="https://github.com/leonelgalan/rubocop-app-demo/tree/9e0f61da6987e9fab2bb46a2b7d199220bdb391a"><code class="language-plaintext highlighter-rouge">9e0f61d</code></a></p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">AllCops</span><span class="pi">:</span>
  <span class="na">Exclude</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">bin/*</span>
    <span class="pi">-</span> <span class="s">node_modules/**/*</span>
</code></pre></div></div>

<p>Similarly, remove all other cops’ configurations that deal only with files inside the bin/ folder (8 cops and some files inside a ninth).</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rubocop <span class="nb">.</span>
Inspecting 32 files
................................

32 files inspected, no offenses detected
</code></pre></div></div>

<p>Cop by cop, decide what you want to do with each:s</p>

<ul>
  <li>Remove the excludes (so offenses are corrected or pop up)</li>
  <li>Move the excludes to <em>.rubocop.yml</em> if you don’t want to deal with a cop/file combination.</li>
  <li>Completely disabling a cop, by setting <code class="language-plaintext highlighter-rouge">Enabled: false</code></li>
  <li>Ignore the custom configuration in the TO DO and fallback to the default</li>
  <li>Change the recommended configuration.</li>
</ul>

<p>I ended up removing the excludes for <code class="language-plaintext highlighter-rouge">Layout/SpaceInsideArrayLiteralBrackets</code>, <code class="language-plaintext highlighter-rouge">Style/SpecialGlobalVars</code>, <code class="language-plaintext highlighter-rouge">Style/StringLiterals</code> and <code class="language-plaintext highlighter-rouge">Style/SymbolArray</code>.</p>

<p>Moving the excludes for <code class="language-plaintext highlighter-rouge">Style/ClassAndModuleChildren</code>, because the two files were created by Rails and I don’t plan to touch them much: <em>test/channels/application_cable/connection_test.rb</em> and <em>test/test_helper.rb</em>.</p>

<p>Disabling <code class="language-plaintext highlighter-rouge">Style/Documentation</code> and <code class="language-plaintext highlighter-rouge">Style/FrozenStringLiteralComment</code>.</p>

<p>Ignoring the configuration for <code class="language-plaintext highlighter-rouge">Metrics/AbcSize</code>, <code class="language-plaintext highlighter-rouge">Metrics/CyclomaticComplexity</code>, <code class="language-plaintext highlighter-rouge">Metrics/MethodLength</code> and <code class="language-plaintext highlighter-rouge">Metrics/PerceivedComplexity</code>.</p>

<p>Changing <code class="language-plaintext highlighter-rouge">Layout/LineLength</code>’s <code class="language-plaintext highlighter-rouge">Max</code> to 120. To match the rulers in my editor.</p>

<p>After going clearing the TO DO, remove the file and the line inheriting from it in your project’s configuration. Run rubocop’s autocorrect again: <a href="https://github.com/leonelgalan/rubocop-app-demo/tree/32f03b8ad68df1be331692cad713d657900ca774"><code class="language-plaintext highlighter-rouge">32f03b8</code></a> <a href="https://github.com/leonelgalan/rubocop-app-demo/tree/6814cc7a5ed05bff08beb74556ec7d2adbb26545"><code class="language-plaintext highlighter-rouge">6814cc7</code></a></p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rubocop <span class="nt">--auto-correct</span>
Inspecting 32 files
C.............C..........C.C.CC.

Offenses:

Gemfile:33:28: C: <span class="o">[</span>Corrected] Style/SymbolArray: Use %i or %I <span class="k">for </span>an array of symbols.
  gem <span class="s1">'byebug'</span>, platforms: <span class="o">[</span>:mri, :mingw, :x64_mingw]
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^

...

<span class="nb">test</span>/channels/application_cable/connection_test.rb:1:9: C: <span class="o">[</span>Corrected] Style/StringLiterals: Prefer single-quoted strings when you don<span class="s1">'t need string interpolation or special symbols.
require "test_helper"
        ^^^^^^^^^^^^^

32 files inspected, 17 offenses detected, 17 offenses corrected
</span></code></pre></div></div>

<h2 id="the-result">The Result</h2>

<p>All 17 offenses were corrected, let’s do it one more time to have a clean result:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rubocop <span class="nb">.</span>
Inspecting 32 files
................................

32 files inspected, no offenses detected
</code></pre></div></div>

<p>For this project, based on my preferences, the final <em>.rubocop.yml</em> file looks like this:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">AllCops</span><span class="pi">:</span>
  <span class="na">Exclude</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">bin/**</span>
    <span class="pi">-</span> <span class="s">node_modules/**/*</span>

<span class="s">Style/HashEachMethods</span><span class="pi">:</span>
  <span class="na">Enabled</span><span class="pi">:</span> <span class="no">true</span>

<span class="s">Style/HashTransformKeys</span><span class="pi">:</span>
  <span class="na">Enabled</span><span class="pi">:</span> <span class="no">true</span>

<span class="s">Style/HashTransformValues</span><span class="pi">:</span>
  <span class="na">Enabled</span><span class="pi">:</span> <span class="no">true</span>

<span class="s">Style/Documentation</span><span class="pi">:</span>
  <span class="na">Enabled</span><span class="pi">:</span> <span class="no">false</span>

<span class="s">Style/FrozenStringLiteralComment</span><span class="pi">:</span>
  <span class="na">Enabled</span><span class="pi">:</span> <span class="no">false</span>

<span class="s">Style/ClassAndModuleChildren</span><span class="pi">:</span>
  <span class="na">Exclude</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">test/channels/application_cable/connection_test.rb</span>
    <span class="pi">-</span> <span class="s">test/test_helper.rb</span>

<span class="s">Layout/LineLength</span><span class="pi">:</span>
  <span class="na">Max</span><span class="pi">:</span> <span class="m">120</span>
</code></pre></div></div>

<hr />

<p><small>
  Photo by <a href="https://unsplash.com/photos/jHZ70nRk7Ns">Lenny Kuhne</a> | “gray vehicle being fixed inside factory using robot machines”
</small></p>

      </div>
      
    </article>
  </div>
</main>

        </div>

        <div class="search-content">
          <div class="inner">
  <label class="visually-hidden" for="search">Site Search</label>
        <input type="text" id="search" class="search-input" aria-describedby="results-count" tabindex="-1" placeholder="Enter your search term..." />
        <div id="results" class="results"></div>
</div>

        </div>
      </div>
    </div>

    <footer id="footer" class="site-footer">
  <div class="inner">
    <div class="copyright">
      
        <p>&copy; 2021 Leonel Galán.</p>
      
    </div>
  </div>
</footer>

    
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-49118238-2', 'auto');
  ga('send', 'pageview');
</script>


<script async src="/assets/javascripts/main.js"></script>

<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="https://leonelgalan.com/assets/javascripts/lunr/lunr.min.js"></script>
  <script src="https://leonelgalan.com/assets/javascripts/lunr/lunr.store.js"></script>
  <script>
    var idx = lunr(function () {
      
      // the, the normal lunr index initialization
      this.field('title')
      this.field('excerpt')
      this.field('categories')
      this.field('tags')
      this.ref('id')

      this.pipeline.remove(lunr.trimmer)

      // add documents to index
      for (var item in store) {
        this.add({
          title: store[item].title,
          excerpt: store[item].excerpt,
          categories: store[item].categories,
          tags: store[item].tags,
          id: item
        })
      }
    });

    $(document).ready(function () {
      $('input#search').on('keyup', function () {
        var resultdiv = $('#results');
        var query = $(this).val().toLowerCase();
        var result =
          idx.query(function (q) {
            query.split(lunr.tokenizer.separator).forEach(function (term) {
              q.term(term, { boost: 100 })
              if (query.lastIndexOf(" ") != query.length - 1) {
                q.term(term, { usePipeline: false, wildcard: lunr.Query.wildcard.TRAILING, boost: 10 })
              }
              if (term != "") {
                q.term(term, { usePipeline: false, editDistance: 1, boost: 1 })
              }
            })
          });
        resultdiv.empty();
        resultdiv.prepend('<p id="results-count" class="results-found">' + result.length + ' Result(s) found</p>');
        for (var item in result) {
          var ref = result[item].ref;
          var searchitem =
            '<article class="entry">' +
              '<h3 class="entry-title">' +
                '<a href="' + store[ref].url + '">' + store[ref].title + '</a>' +
              '</h3>' +
              '<div class="entry-excerpt">' +
                '<p>' + store[ref].excerpt.split(" ").splice(0, 20).join(" ") + '...</p>' +
              '</div>' +
            '</article>';
          resultdiv.append(searchitem);
        }
      });
    });
  </script>



  </body>

</html>
